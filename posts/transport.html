<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网络原理之传输层 | Juzi</title>
    <meta name="description" content="tcp udp 三次握手 滑动窗口">
    <link rel="preload stylesheet" href="/vitepress-blog/assets/style.17c43a5f.css" as="style">
    <link rel="modulepreload" href="/vitepress-blog/assets/app.d0d9d5f2.js">
    <link rel="modulepreload" href="/vitepress-blog/assets/posts_transport.md.920ecd05.lean.js">
    
    <link rel="icon" type="image/svg" href="/icon.svg">
  <meta name="author" content="Juzi">
  <meta property="og:title" content="Home">
  <meta property="og:description" content="Home of Juzi">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="Layout" data-v-94370507><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f637ee78></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f637ee78> Skip to content </a><!--]--><!----><header class="VPNav" data-v-94370507 data-v-97571dac><div class="VPNavBar" data-v-97571dac data-v-77090745><div class="container" data-v-77090745><div class="title" data-v-77090745><div class="VPNavBarTitle" data-v-77090745 data-v-a6217f33><a class="title" href="/vitepress-blog/" data-v-a6217f33><!--[--><!--]--><!--[--><img class="VPImage logo" src="/vitepress-blog/icon.svg" alt data-v-dc109a54><!--]--><!--[-->Juzi<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-77090745><div class="curtain" data-v-77090745></div><div class="content-body" data-v-77090745><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-77090745 data-v-066fd012><span id="main-nav-aria-label" class="visually-hidden" data-v-066fd012>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/" data-v-066fd012 data-v-ee9a6690 data-v-e90adabd><!--[-->🏡Blogs<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/tags.html" data-v-066fd012 data-v-ee9a6690 data-v-e90adabd><!--[-->🔖Tags<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepress-blog/archives.html" data-v-066fd012 data-v-ee9a6690 data-v-e90adabd><!--[-->📃Archives<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-77090745 data-v-b8c1dd96><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-b8c1dd96 data-v-e9403e01 data-v-92d8f6fb><span class="check" data-v-92d8f6fb><span class="icon" data-v-92d8f6fb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-e9403e01><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-e9403e01><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-77090745 data-v-c854324a data-v-b8f6762d><!--[--><a class="VPSocialLink" href="https://github.com/cwzp990" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="mailto:cwzp990@gmail.com" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg t="1678761258150" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3553" width="200" height="200"><path d="M430.079734 481.464543c45.196365 45.596478 118.486578 45.596478 163.68499 0l360.684736-324.939627c0.547469 3.751441 1.13894 7.490601 1.13894 11.401678l0 404.753417 0 116.754121c0 42.995233-34.547841 77.838809-77.145008 77.838809L145.397996 767.272941c-42.597167 0-77.145008-34.844599-77.145008-77.838809L68.252988 494.839155 68.252988 167.926594c0-3.911076 0.593518-7.65126 1.139963-11.401678L430.079734 481.464543zM910.960992 74.226538 562.044278 387.28558c-38.470173 38.811957-62.276369 38.811957-100.770078 0L112.538611 74.408687c10.011005-4.789073 21.069875-7.673773 32.859385-7.673773l733.044372 0C890.095779 66.735937 901.065622 69.539796 910.960992 74.226538z" p-id="3554"></path></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-77090745 data-v-48889eb2 data-v-226768c1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-226768c1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-226768c1><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-226768c1><div class="VPMenu" data-v-226768c1 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-48889eb2><div class="item appearance" data-v-48889eb2><p class="label" data-v-48889eb2>Appearance</p><div class="appearance-action" data-v-48889eb2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-48889eb2 data-v-e9403e01 data-v-92d8f6fb><span class="check" data-v-92d8f6fb><span class="icon" data-v-92d8f6fb><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-e9403e01><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-e9403e01><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-48889eb2><div class="item social-links" data-v-48889eb2><div class="VPSocialLinks social-links-list" data-v-48889eb2 data-v-b8f6762d><!--[--><a class="VPSocialLink" href="https://github.com/cwzp990" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="mailto:cwzp990@gmail.com" target="_blank" rel="noopener" data-v-b8f6762d data-v-179ad0ea><svg t="1678761258150" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3553" width="200" height="200"><path d="M430.079734 481.464543c45.196365 45.596478 118.486578 45.596478 163.68499 0l360.684736-324.939627c0.547469 3.751441 1.13894 7.490601 1.13894 11.401678l0 404.753417 0 116.754121c0 42.995233-34.547841 77.838809-77.145008 77.838809L145.397996 767.272941c-42.597167 0-77.145008-34.844599-77.145008-77.838809L68.252988 494.839155 68.252988 167.926594c0-3.911076 0.593518-7.65126 1.139963-11.401678L430.079734 481.464543zM910.960992 74.226538 562.044278 387.28558c-38.470173 38.811957-62.276369 38.811957-100.770078 0L112.538611 74.408687c10.011005-4.789073 21.069875-7.673773 32.859385-7.673773l733.044372 0C890.095779 66.735937 901.065622 69.539796 910.960992 74.226538z" p-id="3554"></path></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-77090745 data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-94370507 data-v-5a40893c><div class="VPDoc" data-v-5a40893c data-v-8c2b58c8><div class="container" data-v-8c2b58c8><!----><div class="content" data-v-8c2b58c8><div class="content-container" data-v-8c2b58c8><!--[--><!--[--><!--[--><!--[--><h1 class="title" data-v-2910b416>网络原理之传输层</h1><div class="date" data-v-2910b416>🕒 Published at: 4 months ago</div><!--]--><div class="category" data-v-cf4ea5bf><ul class="list" data-v-cf4ea5bf><!--[--><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#一、传输层功能" class="header-h2" data-v-cf4ea5bf>一、传输层功能</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#二、传输层寻址与端口" class="header-h2" data-v-cf4ea5bf>二、传输层寻址与端口</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#三、无连接服务与面向连接服务" class="header-h2" data-v-cf4ea5bf>三、无连接服务与面向连接服务</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#四、传输层的复用与分解" class="header-h2" data-v-cf4ea5bf>四、传输层的复用与分解</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#五、停-等协议与滑动窗口协议" class="header-h2" data-v-cf4ea5bf>五、停-等协议与滑动窗口协议</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#六、用户数据报协议-udp" class="header-h2" data-v-cf4ea5bf>六、用户数据报协议（UDP）</a></li></ul></li><li class="header" data-v-cf4ea5bf><!----><ul data-v-cf4ea5bf><li data-v-cf4ea5bf><a href="#七、传输控制协议-tcp" class="header-h2" data-v-cf4ea5bf>七、传输控制协议（TCP）</a></li></ul></li><!--]--></ul></div><!--]--><!--]--><!--]--><main class="main" data-v-8c2b58c8><div style="position:relative;" class="vp-doc _vitepress-blog_posts_transport" data-v-8c2b58c8><div><p>马上要参加计算机网络考试了，这里把一些考点梳理一下，希望能考一个好成绩。</p><p>开放系统互联参考模型是由国际标准化组织（ISO）于 1984 年提出的分层网络体系结构模型，目的是支持<strong>异构网络系统</strong>的互联互通，是异构网络系统互联的<strong>国际标准</strong>，如图所示。我们这里讨论的传输层属于第四层。</p><p><img src="/vitepress-blog/assets/image-20210419153945177.e33a5161.png" alt="Image text"></p><h3 id="一、传输层功能" tabindex="-1">一、传输层功能 <a class="header-anchor" href="#一、传输层功能" aria-hidden="true">#</a></h3><p>给应用进程之间提供<strong>端到端</strong>的逻辑通信服务</p><ol><li><p>传输层寻址；</p></li><li><p>对应用层报文进行分段和重组；</p></li><li><p>对报文进行差错检测；</p></li><li><p>实现进程间端到端可靠数据传输控制；</p></li><li><p>面向应用层实现复用与分解；</p></li><li><p>实现端到端的流量控制；</p></li><li><p>拥塞控制；</p></li></ol><h3 id="二、传输层寻址与端口" tabindex="-1">二、传输层寻址与端口 <a class="header-anchor" href="#二、传输层寻址与端口" aria-hidden="true">#</a></h3><p>一台计算机中，不同应用进程用<strong>进程标识符（进程 ID</strong>）来区分 在传输层使用协议端口号，通常简称为端口（port） 在全网范围内利用  <strong>『IP 地址+端口号』</strong>  唯一标识一个通信端点</p><p>传输层端口号为 16 位整数，可以编号 65536 个（2 的 16 次方） 常用端口：<strong>端口号小于 256 的端口</strong></p><table><thead><tr><th>端口号</th><th>类别</th><th></th></tr></thead><tbody><tr><td>0-1023</td><td>熟知端口号</td><td>服务器端口号</td></tr><tr><td>1024-49151</td><td>登记端口号</td><td>服务器端口号</td></tr><tr><td>49152-65535</td><td>短暂端口号</td><td>客户端口号</td></tr></tbody></table><h3 id="三、无连接服务与面向连接服务" tabindex="-1">三、无连接服务与面向连接服务 <a class="header-anchor" href="#三、无连接服务与面向连接服务" aria-hidden="true">#</a></h3><table><thead><tr><th>无连接服务（UDP）</th><th>面向连接服务（TCP）</th></tr></thead><tbody><tr><td>提供无连接、不可靠的数据报传输服务</td><td>提供面向连接的、可靠的、有序的字节流传输服务</td></tr><tr><td>数据传输之前：无需与对端进行任何信息交换，直接构造传输层报文段并向接收端发送。</td><td>数据传输之前：需要双方交换一些控制信息，建立逻辑连接，然后再传输数据，传输结束后还需要拆除连接</td></tr><tr><td>类似于信件通信</td><td>类似于电话通信</td></tr></tbody></table><h3 id="四、传输层的复用与分解" tabindex="-1">四、传输层的复用与分解 <a class="header-anchor" href="#四、传输层的复用与分解" aria-hidden="true">#</a></h3><p>多路复用与多路分解（复用与分解 / 复用与分用）：支持众多应用进程共用同一个传输层协议，并能够将接收到的数据准确交付给不同的应用进程。</p><ol><li><p>多路复用：在源主机，传输层协议从不同的套接字收集应用进程发送的数据块，并为每个数据块封装上首部信息（包括用于分解的信息）构成报文段，然后将报文段传递给网络层。</p></li><li><p>多路分解：在目的主机，传输层协议读取报文段中的字段，标识出接收套接字，进而通过该套接字，将传输层的报文段中的数据交付给正确的套接字。</p></li></ol><h3 id="五、停-等协议与滑动窗口协议" tabindex="-1">五、停-等协议与滑动窗口协议 <a class="header-anchor" href="#五、停-等协议与滑动窗口协议" aria-hidden="true">#</a></h3><h4 id="_1、可靠数据传输基本原理" tabindex="-1">1、可靠数据传输基本原理 <a class="header-anchor" href="#_1、可靠数据传输基本原理" aria-hidden="true">#</a></h4><p>不可靠传输信道在数据传输中可能发生：</p><ul><li><p>比特差错： 1001 变为 1000；</p></li><li><p>乱序： 数据块 1、2、5、6、3、4；</p></li><li><p>数据丢失： 数据块 1、2、5；</p></li></ul><p>为了使传输层提供可靠的数据传输服务，基于不可靠信道实现可靠数据传输需要采取以下措施：</p><ul><li><p>差错检测： 利用编码实现数据包传输过程中的比特差错检测；</p></li><li><p>确认： 接收方向发送方反馈接收状态；</p><ul><li><p>NAK（ 否定确认），Negative Acknowledgement， 没有正确接收数据；</p></li><li><p>ACK（ 肯定确认），Positive Acknowledgement， 正确接收数据；</p></li></ul></li><li><p>重传： 发送方重新发送接收方没有正确接收的数据；</p></li><li><p>序号： 确保数据按序提交；</p></li><li><p>计时器： 解决数据丢失问题；</p></li></ul><h4 id="_2、停等协议" tabindex="-1">2、停等协议 <a class="header-anchor" href="#_2、停等协议" aria-hidden="true">#</a></h4><ol><li><p>发送方发送经过差错编码和编号的报文段， 等待接收方的确认；</p></li><li><p>接收方如果差错检测无误且序号正确， 则接收报文段， 并向发送方发送 ACK，发送方收到 ACK，继续发送后续报文段；</p></li><li><p>接收方如果差错检测序号有误，则丢弃报文段， 并向发送方发送 NAK，发送方收到 NAK， 重发刚刚发送的报文段。</p></li></ol><p>停-等协议的缺点：<strong>性能差，信道利用率低</strong></p><h4 id="_3、滑动窗口协议" tabindex="-1">3、滑动窗口协议 <a class="header-anchor" href="#_3、滑动窗口协议" aria-hidden="true">#</a></h4><p><strong>流水线协议（管道协议）</strong>： 允许发送方在没有收到确认前连续发送多个分组。<br> 最典型的流水线协议：<strong>滑动窗口协议</strong>。</p><ol><li><p>增加分组序号。</p></li><li><p>发送方和接收方可以缓存多个分组。</p></li></ol><h5 id="_1-回退-n-步协议-gbn-协议-go-back-n" tabindex="-1">① 回退 N 步协议（GBN 协议，Go-Back-N） <a class="header-anchor" href="#_1-回退-n-步协议-gbn-协议-go-back-n" aria-hidden="true">#</a></h5><p><strong>GBN 协议的特点：</strong><br> 发送端缓存能力高，可以在没有得到确认前发送多个分组。<br> 接收端缓存能力很低，只能接收 1 个按序到达的分组，不能缓存未按序到达的分组。</p><p><strong>GBN 发送方响应的 3 类事件：</strong></p><ol><li>上层调用</li><li>收到 1 个 ACKn。GBN 采用累积确认方式，即发送方收到 ACKn 时，表明接收方正确接收序号 n 以及序号小于 n 的所有分组。</li><li>计时器超时。发送方只使用一个计时器。</li></ol><h6 id="_2-选择重传协议-sr-协议-selective-repeat" tabindex="-1">② 选择重传协议（SR 协议, Selective Repeat） <a class="header-anchor" href="#_2-选择重传协议-sr-协议-selective-repeat" aria-hidden="true">#</a></h6><p><strong>SR 协议特点：</strong><br> 发送端缓存能力高。<br> 接收端缓存能力高，</p><p><strong>SR 发送方响应事件：</strong></p><ol><li>上层调用。</li><li>计时器超时。发送方对每个分组进行计时。</li><li>收到 ACKn。SR 协议采取逐个确认方式</li></ol><h3 id="六、用户数据报协议-udp" tabindex="-1">六、用户数据报协议（UDP） <a class="header-anchor" href="#六、用户数据报协议-udp" aria-hidden="true">#</a></h3><p>提供无连接、不可靠、数据报尽力传输服务。</p><h4 id="_1、udp-特点" tabindex="-1">1、UDP 特点 <a class="header-anchor" href="#_1、udp-特点" aria-hidden="true">#</a></h4><ol><li>应用进程容易控制发送什么数据以及何时发送，会出现分组的丢失和重复。</li><li>无需建立连接。</li><li>无连接状态。</li><li>首部开销小，只有 8 个字节（Byte）。</li></ol><h4 id="_2、udp-数据报结构" tabindex="-1">2、UDP 数据报结构 <a class="header-anchor" href="#_2、udp-数据报结构" aria-hidden="true">#</a></h4><h4 id="_3、udp-校验和" tabindex="-1">3、UDP 校验和 <a class="header-anchor" href="#_3、udp-校验和" aria-hidden="true">#</a></h4><p><strong>提供差错检测功能</strong> UDP 的校验和用于检测 UDP 报文段从源到目的地传送过程中，其中的数据是否发生了改变。</p><p><strong>UDP 校验和计算规则</strong></p><ol><li><p>所有参与运算的内容按 16 位对其求和。</p></li><li><p>求和过程中遇到溢出（即进位） 都被 回卷（即进位与和的最低位再相加）。</p></li><li><p>最后得到的和取反码，就是 UDP 的校验和，填入 UDP 数据报的校验和字段。</p></li></ol><h3 id="七、传输控制协议-tcp" tabindex="-1">七、传输控制协议（TCP） <a class="header-anchor" href="#七、传输控制协议-tcp" aria-hidden="true">#</a></h3><p>提供面向连接、可靠、有序、字节流传输服务。</p><h4 id="_1、tcp-报文段结构" tabindex="-1">1、TCP 报文段结构 <a class="header-anchor" href="#_1、tcp-报文段结构" aria-hidden="true">#</a></h4><h4 id="_2、tcp-连接管理" tabindex="-1">2、TCP 连接管理 <a class="header-anchor" href="#_2、tcp-连接管理" aria-hidden="true">#</a></h4><p>以客户端上的一个应用进程与服务器上的一个应用进程建立一条 TCP 连接为例：</p><h4 id="_3、tcp-流量控制" tabindex="-1">3、TCP 流量控制 <a class="header-anchor" href="#_3、tcp-流量控制" aria-hidden="true">#</a></h4><p>流量控制：协调发送方与接收方的数据发送与接收速度。<br> 在通信过程中，接收方设置报文段的接收窗口字段来将窗口大小通知给发送方</p><h4 id="_4、tcp-拥塞控制" tabindex="-1">4、TCP 拥塞控制 <a class="header-anchor" href="#_4、tcp-拥塞控制" aria-hidden="true">#</a></h4><p><strong>① 拥塞</strong></p><p>太多的主机以太快的速度向网络中发送太多的数据，超出了网络处理能力，导致大量数据分组拥挤在中间设备队列中等待转发，网络性能显著下降的现象。</p><p><strong>② 拥塞控制</strong></p><p>通过合理调度、规范、调整向网络中发送数据的主机数量、发送速率、数据量，以避免拥塞或消除已发生的拥塞。</p><ol><li><p>拥塞预防策：预防拥塞发送。 流量整形技术，规范主机向网络发送数据的流量。</p></li><li><p>拥塞消除策略：基于拥塞检测机制，调整主机向网络中发送数据的速率和数量，从而逐渐消除拥塞。</p></li></ol><p>③<strong>TCP 拥塞控制算法</strong></p><ol><li><p>慢启动算法</p></li><li><p>拥塞避免算法</p></li><li><p>快速重传-计时器超时触发</p></li><li><p>快速恢复-三次重复确认触发</p></li><li><p>窗口调整的基本策略（Additive Increase, Multiplocative Decrease, AIMD）</p></li></ol></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-8c2b58c8 data-v-bd5e03e9><!----><!----></footer><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div><footer data-v-9a6a25ea> Powered by <a href="https://github.com/cwzp990/" target="_blank" title="作者" data-v-9a6a25ea>Juzi</a> | Copyright © 2022-2023 | MIT License </footer><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"6a7d95e5\",\"archives.md\":\"d93f861a\",\"posts_leetcode.duplicates.md\":\"cc68c52f\",\"posts_cli.md\":\"f2818d95\",\"posts_transport.md\":\"920ecd05\",\"posts_monorepo.md\":\"18292738\",\"posts_react.render.md\":\"cf8c3827\",\"posts_vitepress.md\":\"d90a6ab3\",\"posts_vite.build.md\":\"57311e65\",\"posts_reduce.md\":\"074ab393\",\"posts_vite.commonjs.md\":\"3f4fc106\",\"tags.md\":\"25b80197\",\"posts_vite.hmr.md\":\"454ae444\",\"posts_module.md\":\"08c0faf9\"}")</script>
    <script type="module" async src="/vitepress-blog/assets/app.d0d9d5f2.js"></script>
    
  </body>
</html>